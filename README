Wendy the sales bot
===================

This is a simple bot using the iTunesConnectArchiver from rouge amoeba:

http://www.rogueamoeba.com/utm/2009/05/04/itunesconnectarchiver/


Setting up site wide settings:
------------------------------

$ mkdir -p ~/.wendy
$ cat > ~/.wendy/site_config.rb << EOF
ActionMailer::Base.smtp_settings = {
  :enable_starttls_auto => true,
  :address =>              "smtp.gmail.com",
  :port =>                 587,
  :domain =>               "yourdomain.com",
  :authentication =>       :plain,
  :user_name =>            "youremail@yourdomain.com",
  :password =>             "yourpassword"
}

# Mandatory sender email address.
Settings.sender = 'wendy@yourdomain.com'

# Optional, amount of seconds to sleep between polling attemps. Default is 2 hours.
# Settings.sleep_duration = 2*60*60

# List of addresses to send reports to.
# Settings.report_email_addresses = [ 'me@domain.com' ]

# Optional list of addresses to notify if the bot dies.
# Settings.admin_email_addresses = [ 'me@domain.com' ]

# Mandatory iTunes connect account information.
Settings.itc_username = 'me'
Settings.itc_password = 'myPassword'
EOF


Starting the daemon:
-----------------

$ ./wendy.rb


Maintenance
-----------

In case something goes wrong with the database due to changed iTunes Connect report format, you can open the database file using sqlite3 and remove days. An example:

 sqlite3 sales.sqlite
 delete from sales where sales.date == "2011-01-06";
 .quit
